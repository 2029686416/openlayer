<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>map demo</title>
    <link rel="stylesheet" href="http://114.80.0.9:1234/geoserver/openlayers3/ol.css" type="text/css">
    <style>
        html,
        body,
        #map{
            padding: 0;
            margin: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }
		#op{
			height:20px;
			width:50px;
			border:1px solid red;
		}
    </style>
</head>
<body>

<div id="map"></div>
<script src="http://114.80.0.9:1234/geoserver/openlayers3/ol.js" type="text/javascript"></script>
<script>
	
	var raster = new ol.layer.Tile({    
		source: new ol.source.OSM()
	});
	
    var format= 'image/png';
    var untiled = new ol.layer.Image({
        source: new ol.source.ImageWMS({
            ratio: 1,
            url: 'http://114.80.0.9:1234/geoserver/wanhuayuan/wms',
            params: {'FORMAT':  format,
                'VERSION': '1.1.1',
                STYLES: '',
                LAYERS: 'wanhuayuan:GROUP_WanHuaYuan'
            }
        })
    });
    var format= 'image/png';var projection = new ol.proj.Projection({
        code: 'EPSG:3857',
        units: 'm',
        axisOrientation: 'neu',
        global: false
    });
	
	//加油！！！
	var source = new ol.source.Vector();
	//矢量图层
	var vector = new ol.layer.Vector({
		source: source,
		style: new ol.style.Style({
			fill: new ol.style.Fill({
				color: 'rgba(255, 255, 255, 0.1)'
			}),
			stroke: new ol.style.Stroke({
				color: 'red',
				width: 5
			}),
			image: new ol.style.Circle({
				radius: 10,
				fill: new ol.style.Fill({
					color: '#ffcc33'
				})
			})
		})
	});
	//多边形此处注意一定要是[坐标数组]
	var plygon = new ol.geom.LineString([[121.03554390458861, 37.669891510139436], [121.11997494636805, 37.713459130363184]]);
	//多边形要素类
	var feature = new ol.Feature({
		geometry: plygon,
	});
	console.log(feature);
	source.addFeature(feature);
	console.log(vector.getSource().getFeatures().length);
	//分隔！！！
	
    var bounds = [13472606.7144771, 4530228.7563782865, 13484169.184178041, 4539025.905336271];
    var map = new ol.Map({
        controls: ol.control.defaults({
            attribution: false
        }).extend([]),
        target: 'map',
        layers: [//Layer有好几种类型的tile(瓦片地图),Image(图像),Vector(画点线等等需要的图层)	按顺序加载，第一个最低
           raster, untiled ,vector
        ],
        view: new ol.View({
            projection: projection//增加投影
        })
    });
	
	
	
	
	// 让地图最大化完全地显示区域bounds
    map.getView().fit(bounds, map.getSize());
</script>

</body>
</html>